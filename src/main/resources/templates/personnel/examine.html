<!DOCTYPE html>
<html class="x-admin-sm" lang="zh-CN" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>查看</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
    <link rel="stylesheet" th:href="@{/static/css/font.css}">
    <link rel="stylesheet" th:href="@{/static/css/index.css}">
    <script type="text/javascript" th:src="@{/static/lib/layui/layui.js}" charset="utf-8"></script>
    <script type="text/javascript" th:src="@{/static/js/index.js}"></script>
    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
<div class="layui-fluid">
    <div class="layui-row">
        <form class="layui-form">
            <div class="layui-form-item">

                <div style="width: 50%; float: left">
                       <div>
                    <label for="username" class="layui-form-label">
                        姓名:
                    </label>
                    <div class="layui-input-inline">
                        <input type="text" id="username" name="userName" required="" lay-verify="required"
                               readonly="readonly"  th:value="${user.userName}"   autocomplete="off" class="layui-input">
                    </div>

                       </div>

                    <div style="margin-top: 15%">
                    <label for="phone" class="layui-form-label">
                       手机号：
                    </label>
                    <div class="layui-input-inline">
                        <input type="text" id="phone" name="phone" required="" lay-verify="phone"
                               readonly="readonly"  th:value="${user.phone}"   autocomplete="off" class="layui-input">
                    </div>

                </div>

                    <div style="margin-top: 30%">
                    <label for="L_email" class="layui-form-label">
                        学历
                    </label>
                    <div class="layui-input-inline">
                        <input type="text" id="L_email" name="education" required="" lay-verify="required"
                               readonly="readonly"   th:value="${user.education}"      autocomplete="off" class="layui-input">
                    </div>

                    </div>

                    <div style="margin-top: 45%">
                        <label for="L_email" class="layui-form-label">
                            年龄
                        </label>
                        <div class="layui-input-inline">
                            <input type="text"  name="age" required="" lay-verify="required"
                                   th:value="${user.age}"   autocomplete="off" class="layui-input">
                        </div>

                    </div>

                </div>


                <div  style="width: 50%; float: left">


                    <div class="layui-form-item">
                        <div class="layui-upload" style="margin-left: 59px;">


                            <div class="layui-upload-list" id="img"
                                 style="margin-top: 10%;width: 107px;height: 127px; border: 1px solid #c2c2c2;margin-left: 14%;">
                                <img  th:src="${user.userImg}"  style="width: 107px;height: 127px; "   class="layui-upload-img" id="demo1">

                            </div>
                        </div>

                    </div>

                </div>


            </div>





            <div class="layui-form-item">
                <label for="L_email" class="layui-form-label">
                  毕业院校
                </label>
                <div class="layui-input-inline">
                    <input type="text"  name="schoolBy" required="" lay-verify="required"
                           readonly="readonly"  th:value="${user.schoolBy}"      autocomplete="off" class="layui-input">
                </div>


                <label for="L_email" class="layui-form-label">
                    身份证
                </label>
                <div class="layui-input-inline">
                    <input type="text"  name="identityArd" required="" lay-verify="required"
                           readonly="readonly"  th:value="${user.identityArd}"     autocomplete="off" class="layui-input">
                </div>


            </div>




            <div class="layui-form-item">
                <label for="L_email" class="layui-form-label">
                   紧急联系人
                </label>
                <div class="layui-input-inline">
                    <input type="text"  name="emergencyUser" required="" lay-verify="required"
                           readonly="readonly"   th:value="${user.emergencyUser}"     autocomplete="off" class="layui-input">
                </div>



                <label for="L_email" class="layui-form-label">
                   联系人电话
                </label>
                <div class="layui-input-inline">
                    <input type="text"  name="emergencyPhone" required="" lay-verify="required"
                           readonly="readonly"  th:value="${user.emergencyPhone}"   autocomplete="off" class="layui-input">
                </div>



            </div>


            <div class="layui-form-item">
                <label for="L_email" class="layui-form-label">
                    工资账号
                </label>
                <div class="layui-input-inline">
                    <input type="text"  name="bankCard" required=""
                           readonly="readonly"  th:value="${user.bankCard}"      autocomplete="off" class="layui-input">
                </div>
                <label for="L_email" class="layui-form-label">
                    工资开户行
                </label>
                <div class="layui-input-inline">
                    <input type="text"  name="age" required="" lay-verify="required"
                           readonly="readonly" th:value="${user.bank}"  autocomplete="off" class="layui-input">
                </div>




            </div>


            <div class="layui-form-item">
                <label for="L_email" class="layui-form-label">
                    孝善账号
                </label>
                <div class="layui-input-inline">
                    <input type="text"  name="filialityFineCard"
                           readonly="readonly"  th:value="${user.filialityFineCard}"   autocomplete="off" class="layui-input">
                </div>

                <label for="L_email" class="layui-form-label">
                    孝善开户行
                </label>
                <div class="layui-input-inline">
                    <input type="text"  name="filialityFineBank"  lay-verify="required"
                           readonly="readonly"  th:value="${user.filialityFineBank}"   autocomplete="off" class="layui-input">
                </div>

            </div>




            <div class="layui-form-item">


                <label for="L_email" class="layui-form-label">
                    现住址
                </label>
                <div class="layui-input-inline">
                    <input type="text"  name="presentAddress" required="" lay-verify="required"
                           readonly="readonly"  th:value="${user.presentAddress}"     autocomplete="off" class="layui-input">
                </div>

                <label for="L_email" class="layui-form-label">
                    户籍地址
                </label>
                <div class="layui-input-inline">
                    <input type="text"  name="address" required="" lay-verify="required"
                           readonly="readonly"   th:value="${user.address}"    autocomplete="off" class="layui-input">
                </div>


            </div>





            <div class="layui-form-item">


                <label for="L_email" class="layui-form-label">
                    专业
                </label>
                <div class="layui-input-inline">
                    <input type="text"  name="specialty" required="" lay-verify="required"
                           readonly="readonly"  th:value="${user.specialty}"  autocomplete="off" class="layui-input">
                </div>




                <label for="L_email" class="layui-form-label">
                    民族
                </label>
                <div class="layui-input-inline">
                    <input type="text"  name="nation" required=""
                           readonly="readonly"   th:value="${user.nation}"     autocomplete="off" class="layui-input">
                </div>



            </div>




            <div class="layui-form-item">

                <label for="L_email" class="layui-form-label">
                   部门
                </label>

                <div class="layui-input-inline">
                    <select disabled="disabled"  id="departmentId" lay-filter="brickType" name="departmentId">

                        <option value="0"  selected="selected">请选择部门</option>

                        <option th:each="department:${listDepartment}" th:value="${department.departmentId}">[[${department.departmentName}]]</option>

                    </select>

                </div>



                <label for="L_email" class="layui-form-label">
                   职位
                </label>

                <div class="layui-input-inline">
                    <select  disabled="disabled"  name="positionId" lay-verify=""  id="positionId">

                        <option value="0"  selected="selected">请选择职位</option>
                        <option th:each="position:${listPosition}" th:value="${position.positionId}">[[${position.jobTitle}]]</option>

                    </select>

                </div>




            </div>



            <div class="layui-form-item">

                <label for="L_email" class="layui-form-label">
                   转正日期
                </label>
                <div class="layui-input-inline">
                    <input type="text"  id="positiveDates" name="positiveDates"
                           th:value="${#dates.format(user.positiveDates, 'yyyy-MM-dd')}"   placeholder="格式：yyyy-MM-dd"  class="layui-input starttime">

                </div>



                <label for="L_email" class="layui-form-label">
                    职务
                </label>
                <div class="layui-input-inline">
                    <select id="projectTeam"  name="projectTeam">
                        <option value="0"  selected="selected">请选择职务</option>
                        <option th:each="grouping:${listGrouping}" th:value="${grouping.groupingId}">[[${grouping.groupingName}]]</option>

                    </select>

                </div>

            </div>




            <div class="layui-form-item">
                <label for="L_email" class="layui-form-label">
                   出生日期
                </label>
                <div class="layui-input-inline">
                    <input type="text"   id="birthdate" name="birthdate" required="" placeholder="格式：yyyy-MM-dd"
                           th:value="${#dates.format(user.birthdate, 'yyyy-MM-dd')}"  autocomplete="off" class="layui-input starttime">
                </div>



                <label for="L_email" class="layui-form-label">
                    入职日期
                </label>
                <div class="layui-input-inline">
                    <input type="text"  id="entryDate"  name="entryDate" required="" placeholder="格式：yyyy-MM-dd"
                           th:value="${#dates.format(user.entryDate, 'yyyy-MM-dd')}"   autocomplete="off" class="layui-input starttime">
                </div>




            </div>


            <div class="layui-form-item">
                <label for="L_email" class="layui-form-label">
                    状态
                </label>
                <div class="layui-input-inline">
                    <select id="userState" lay-filter="brickType" name="userState">

                        <option value="0" selected="selected">请选择</option>

                        <option value="1">在职 </option>
                        <option value="2">离职 </option>
                        <option value="3">休假 </option>

                    </select>
                </div>



                <label for="L_email" class="layui-form-label">
                    离职日期
                </label>
                <div class="layui-input-inline">
                    <input type="text"  id="dimissionDate" name="dimissionDate"  placeholder="格式：yyyy-MM-dd"
                           th:value="${#dates.format(user.dimissionDate, 'yyyy-MM-dd')}"   class="layui-input starttime">


                </div>




            </div>






            <div class="layui-form-item">
                <label class="layui-form-label">社保缴纳情况</label>
                <div class="layui-input-block" id="socialSecurity"> </div>

            </div>






            <div class="layui-form-item">
                <label for="L_email" class="layui-form-label">
                   性别
                </label>

                <div class="layui-input-inline">
                    <input name="gender" value="男" type="radio" title="男" disabled checked="">
                    <input name="gender" value="女" type="radio" title="女" disabled >

                </div>





                <label for="L_email" class="layui-form-label">
                   婚姻
                </label>

                <div class="layui-input-inline">

                    <input disabled name="marriage" value="是" title="是" type="radio"  checked="">
                    <input disabled name="marriage" value="否" title="否" type="radio" >


                </div>



            </div>

            <div class="layui-form-item">

                <label for="L_email" class="layui-form-label">
                    户口类型
                </label>

                <div class="layui-input-inline">

                    <input  disabled name="hukouType" value="农村" title="农村" type="radio"  checked="">
                    <input  disabled name="hukouType" value="城市" title="城市" type="radio" >


                </div>





            </div>




            <div class="layui-form-item">
                <label class="layui-form-label"><span class="x-red">*</span>系统权限</label>
                <div class="layui-input-block">
                    <input type="checkbox" value="personnel"      disabled="disabled" name="csdn" lay-filter="like" id="renshi"     lay-skin="primary"  title="人事系统" >
                    <input type="checkbox" value="finance"        disabled="disabled" name="csdn" lay-filter="like" id="caiwu"       lay-skin="primary" title="财务系统">
                    <input type="checkbox" value="market"         disabled="disabled" name="csdn" lay-filter="like" id="xiaoshou"   lay-skin="primary"  title="销售系统" >
                    <input type="checkbox" value="storage"        disabled="disabled" name="csdn" lay-filter="like" id="cangchu"    lay-skin="primary"  title="仓储系统" >
                    <input type="checkbox" value="production"     disabled="disabled" name="csdn" lay-filter="like" id="shengchan"   lay-skin="primary" title="生产系统">
                    <input type="checkbox" value="technology"     disabled="disabled" name="csdn" lay-filter="like" id="jishu"      lay-skin="primary"  title="技术系统" >
                    <input type="checkbox" value="manage"         disabled="disabled" name="csdn" lay-filter="like" id="guanli"     lay-skin="primary"  title="管理系统" >
                    <input type="checkbox" value="administrative" disabled="disabled" name="csdn" lay-filter="like" id="bianji"       lay-skin="primary" title="编辑人员">

                </div>
            </div>


            <div class="layui-form-item">

                <label for="L_email" class="layui-form-label">
                    教育经历
                </label>

                <div class="layui-input-inline">
                    <textarea rows="6" cols="60" name="educationUndergo"> [[${user.educationUndergo}]]  </textarea>
                </div>

            </div>


            <div class="layui-form-item">

                <label for="L_email" class="layui-form-label">
                   工作经历
                </label>

                <div class="layui-input-inline">
                    <textarea rows="6" cols="60" name="occupational">  [[${user.occupational}]]  </textarea>
                </div>

            </div>




            <div class="layui-form-item">
                <label for="L_email" class="layui-form-label">
                   登陆密码
                </label>
                <div class="layui-input-inline">
                    <input type="text"  name="schoolBy" required="" lay-verify="required"
                           readonly="readonly"     th:value="${user.password}"      autocomplete="off" class="layui-input">
                </div>



            </div>




            <!-- 数据存放-->
            <input type="hidden" id="gender" th:value="${user.gender}"/>
            <input type="hidden" id="marriage" th:value="${user.marriage}"/>
            <input type="hidden" id="hukouType" th:value="${user.hukouType}"/>

            <input type="hidden" id="authority" th:value="${authorityName}"/>
            <input type="hidden" id="shebao" th:value="${user.socialSecurity}"/>
        </form>



        <div class="layui-form-item">

        <ul class="layui-timeline" style="margin-left: 6%;">


            <li class="layui-timeline-item" th:each="mobility:${listMobility}" >
                <i class="layui-icon layui-timeline-axis"></i>
                <div class="layui-timeline-content layui-text">
                    <div class="layui-timeline-title">
                        <span>
                            <span th:text="${#dates.format(mobility.transferData, 'yyyy年MM月dd日')}"></span>,

                        原 [[${mobility.departmentName}]] [[${mobility.username}]]现调至
                            [[${mobility.toDepartmentName}]]担任[[${mobility.toPositionName}]]一职
                        </span>



                    </div>
                </div>
            </li>


        </ul>

        </div>


    </div>
</div>



<script>

    layui.use(['form', 'upload','layer'],
        function() {
            $ = layui.jquery;
            var form = layui.form,
                layer = layui.layer;
            var upload = layui.upload;

            layer.ready(function(){

                if($("#gender").val()=='男')
                {
                    $("input[name=gender][value=男]").prop("checked","true");
                }else {
                    $("input[name=gender][value=女]").prop("checked","true");
                }

                if($("#marriage").val()=='是')
                {
                    $("input[name=marriage][value=是]").prop("checked","true");
                }else {
                    $("input[name=marriage][value=否]").prop("checked","true");
                }

                if($("#hukouType").val()=='农村')
                {
                    $("input[name=hukouType][value=农村]").prop("checked","true");
                }else {
                    $("input[name=hukouType][value=城市]").prop("checked","true");
                }


                $("#departmentId").val([[${user.departmentId}]]);
                $("#positionId").val([[${user.positionId}]]);
                $("#userState").val([[${user.userState}]]);
                $("#projectTeam").val([[${user.projectTeam}]]);

                var str= $('#authority').val();
                if(str!=''&&str!=null){
                    $(str.split(",")).each(function (i,dom){
                        $(":checkbox[value='"+dom+"']").prop("checked",true);

                    });
                }



                form.render();


            });



        });</script>


<script>


    var projectTeamid= $("#shebao").val();
    var ehethe = [];

    if(projectTeamid!=''&&projectTeamid!=null){
        $(projectTeamid.split(",")).each(function (i,dom){
            console.log(dom)
            ehethe.push(dom);
        });
    }
    console.log(ehethe)

    var tagData = [
        {"id":"暂不缴纳社保","name":"暂不缴纳社保","status":"暂不缴纳社保"},
        {"id":"医疗保险","name":"医疗保险"},
        {"id":"失业保险","name":"失业保险"},
        {"id":"养老保险","name":"养老保险"},
        {"id":"工伤保险","name":"工伤保险"},

    ];

    layui.config({
        base : '../'
    }).extend({
        selectN: '../static/layui_extends/selectN',
        selectM: '../static/layui_extends/selectM',
    }).use(['layer','form','jquery','selectN','selectM'],function(){
        $ = layui.jquery;
        var form = layui.form
            ,selectN = layui.selectN
            ,selectM = layui.selectM;

        //多选标签-所有配置
        var tagIns2 = selectM({
            //元素容器【必填】
            elem: '#socialSecurity'

            //候选数据【必填】
            ,data: tagData

            //默认值
            ,selected: ehethe

            //最多选中个数，默认5
            ,max : 4

            //input的name 不设置与选择器相同(去#.)
            ,name: 'socialSecurity'

            //值的分隔符
            ,delimiter: ','

            //候选项数据的键名
            ,field: {idName:'id',titleName:'name'}


        });



        //监听重置按钮
        $('form').find(':reset').click(function(){
            $('form')[0].reset();

            tagIns2.set();//默认值
            return false;
        });







    });






</script>





</body>

</html>
